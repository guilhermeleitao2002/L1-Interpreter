type Result = union { #ok:int, #err:string };
let success = #ok(42);
match success {
  #ok(x) -> x * 2
  | #err(msg) -> 0
};;